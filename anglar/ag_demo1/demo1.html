<!DOCTYPE html>
<html ng-app>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../angular.min.js"></script>
		<script>
			function Nice($scope,$timeout){
				$scope.iphone = {
					money:5,
					num : 1,
					fre:10
				};
				$scope.sum = function(){
					
					return $scope.iphone.money * $scope.iphone.num
				};
				$scope.$watch('iphone.money',function(newVal,oldVal){
					console.log(newVal);
					console.log(oldVal);
				});
				$scope.$watch($scope.sum,function(newVal,oldVal){
					$scope.iphone.fre = newVal >= 100?0:10; 
				})
			};
			
		</script>
	</head>
	<body>
		<!--<div ng-controller="Nice" ng-click = 'show()' >
			<input type="text" ng-model = 'name' />
			<p>{{name}}</p>
		</div>-->
		
		<div ng-controller = "Nice">
			<p>价格：<input type = "text" ng-model = "iphone.money"></p>
			<p>个数：<input type = "text" ng-model = 'iphone.num'></p>
			<p>费用：<span>{{sum() | currency:'￥'}}</span></p>
			<p>运费：<span>{{iphone.fre | currency:'￥'}}</span></p>
			<p>总价：<span>{{sum() + iphone.fre | currency:'￥'}}</span></p>
		</div>
		
		<!--<p>
			$scope  局部对象
			$rootScope  全局对象
			$scope $rootScope 依赖注入 统称为服务，形参不能变
			ng-controller  控制器，连接视图和数据
			ng-app  初始化的指令（指定使用angular.js的范围）
			
			angularJs的双向数据绑定
			MVVM 数据改变会影响视图，视图的改变也会影响数据
			currency 格式化数字（美元/人民币）默认是$，人民币currency:'￥'
			$watch 监听数据，（共有3个参数，“被监听的数据”，函数，true【深度监听，监听集合】函数function(newVal,oldVal){};newVal监听到的新值，oldVal监听到的旧值，都可以作为形参，传入，打出）
		</p>-->
	</body> 
</html>
